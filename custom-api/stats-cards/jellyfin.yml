- type: custom-api
  url: https://${JELLYFIN_URL}/items/counts
  css-class: glimpsable-custom
  hide-header: true
  headers:
    Authorization: MediaBrowser Token=${JELLYFIN_KEY}
    Accept: application/json
  skip-json-validation: true
  cache: 1m
  template: | #html
    $include: _stat-template.gohtml
    {{ template "main-container" }}
      {{ template "link-container" "${JELLYFIN_URL}" }}
        {{ template "header-container" }}
          {{ template "logo" "${DASHBOARD_ICONS}/svg/jellyfin.svg" }}
          {{ template "title-container" }}
            {{ template "title" "Jellyfin" }}
            <!-- {{ template "subtitle" "Media Server" }} -->
          </div>
        </div>
      </a>
      {{ template "stat-container" }}
        {{ if eq .Response.StatusCode 200 }}
          <div>
            {{ template "stat-value" .JSON.Int "MovieCount" | formatNumber }}
            {{ template "stat-label" "MOVIES" }}
          </div>
          <div>
            {{ template "stat-value" .JSON.Int "SeriesCount" | formatNumber }}
            {{ template "stat-label" "SERIES" }}
          </div>
          <div>
            {{ template "stat-value" .JSON.Int "EpisodeCount" | formatNumber }}
            {{ template "stat-label" "EPISODES" }}
          </div>
          <div>
            {{ template "stat-value" .JSON.Int "SongCount" | formatNumber }}
            {{ template "stat-label" "SONGS" }}
          </div>
        {{ else }}
          {{ template "stat-fail" .Response.Status }}
        {{ end }}
      </div>
    </div>